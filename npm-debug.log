0 info it worked if it ends with ok
1 verbose cli [ '/usr/local/Cellar/node/0.10.3/bin/node',
1 verbose cli   '/usr/local/bin/npm',
1 verbose cli   'publish',
1 verbose cli   'fluent-ffmpeg-extended' ]
2 info using npm@1.2.17
3 info using node@v0.10.3
4 verbose publish [ 'fluent-ffmpeg-extended' ]
5 verbose read json /Users/dave/Development/MB/node-fluent-ffmpeg/fluent-ffmpeg-extended/package.json
6 verbose cache add [ 'fluent-ffmpeg-extended', null ]
7 verbose cache add name=undefined spec="fluent-ffmpeg-extended" args=["fluent-ffmpeg-extended",null]
8 verbose parsed url { protocol: null,
8 verbose parsed url   slashes: null,
8 verbose parsed url   auth: null,
8 verbose parsed url   host: null,
8 verbose parsed url   port: null,
8 verbose parsed url   hostname: null,
8 verbose parsed url   hash: null,
8 verbose parsed url   search: null,
8 verbose parsed url   query: null,
8 verbose parsed url   pathname: 'fluent-ffmpeg-extended',
8 verbose parsed url   path: 'fluent-ffmpeg-extended',
8 verbose parsed url   href: 'fluent-ffmpeg-extended' }
9 silly lockFile 573ba072-fluent-ffmpeg-extended fluent-ffmpeg-extended
10 verbose lock fluent-ffmpeg-extended /Users/dave/.npm/573ba072-fluent-ffmpeg-extended.lock
11 silly lockFile 573ba072-fluent-ffmpeg-extended fluent-ffmpeg-extended
12 silly lockFile 573ba072-fluent-ffmpeg-extended fluent-ffmpeg-extended
13 verbose addNamed [ 'fluent-ffmpeg-extended', '' ]
14 verbose addNamed [ null, '' ]
15 silly lockFile 2ec9aae6-fluent-ffmpeg-extended fluent-ffmpeg-extended@
16 verbose lock fluent-ffmpeg-extended@ /Users/dave/.npm/2ec9aae6-fluent-ffmpeg-extended.lock
17 silly addNameRange { name: 'fluent-ffmpeg-extended', range: '', hasData: false }
18 verbose url raw fluent-ffmpeg-extended
19 verbose url resolving [ 'https://registry.npmjs.org/', './fluent-ffmpeg-extended' ]
20 verbose url resolved https://registry.npmjs.org/fluent-ffmpeg-extended
21 info trying registry request attempt 1 at 19:47:19
22 verbose etag "CAVZV11TJ2YPOLH0XJV8UMIHX"
23 http GET https://registry.npmjs.org/fluent-ffmpeg-extended
24 http 304 https://registry.npmjs.org/fluent-ffmpeg-extended
25 silly registry.get cb [ 304,
25 silly registry.get   { server: 'CouchDB/1.3.1 (Erlang OTP/R15B03)',
25 silly registry.get     etag: '"CAVZV11TJ2YPOLH0XJV8UMIHX"',
25 silly registry.get     date: 'Sat, 21 Sep 2013 23:47:19 GMT',
25 silly registry.get     'content-length': '0' } ]
26 verbose etag fluent-ffmpeg-extended from cache
27 silly addNameRange number 2 { name: 'fluent-ffmpeg-extended', range: '', hasData: true }
28 silly addNameRange versions [ 'fluent-ffmpeg-extended', [ '1.5.2' ] ]
29 verbose addNamed [ 'fluent-ffmpeg-extended', '1.5.2' ]
30 verbose addNamed [ '1.5.2', '1.5.2' ]
31 silly lockFile 2398e4cc-fluent-ffmpeg-extended-1-5-2 fluent-ffmpeg-extended@1.5.2
32 verbose lock fluent-ffmpeg-extended@1.5.2 /Users/dave/.npm/2398e4cc-fluent-ffmpeg-extended-1-5-2.lock
33 verbose read json /Users/dave/.npm/fluent-ffmpeg-extended/1.5.2/package/package.json
34 silly lockFile 2398e4cc-fluent-ffmpeg-extended-1-5-2 fluent-ffmpeg-extended@1.5.2
35 silly lockFile 2398e4cc-fluent-ffmpeg-extended-1-5-2 fluent-ffmpeg-extended@1.5.2
36 silly lockFile 2ec9aae6-fluent-ffmpeg-extended fluent-ffmpeg-extended@
37 silly lockFile 2ec9aae6-fluent-ffmpeg-extended fluent-ffmpeg-extended@
38 silly publish { name: 'fluent-ffmpeg-extended',
38 silly publish   version: '1.5.2',
38 silly publish   description: 'A fluent API to FFMPEG (http://www.ffmpeg.org).  This is a fork of the original fluent-ffmpeg.',
38 silly publish   keywords: [ '' ],
38 silly publish   repository:
38 silly publish    { type: 'git',
38 silly publish      url: 'git@github.com:btmdave/node-fluent-ffmpeg.git' },
38 silly publish   devDependencies:
38 silly publish    { mocha: 'latest',
38 silly publish      should: 'latest',
38 silly publish      'grunt-contrib-watch': '~0.4.4',
38 silly publish      'grunt-shell': '~0.3.0',
38 silly publish      grunt: '~0.4.1' },
38 silly publish   dependencies: { async: '>=0.2.9' },
38 silly publish   engines: { node: '>=0.8.0' },
38 silly publish   main: 'index',
38 silly publish   scripts: { test: 'make test' },
38 silly publish   readme: '# Fluent ffmpeg-API for node.js [![Build Status](https://secure.travis-ci.org/schaermu/node-fluent-ffmpeg.png)](http://travis-ci.org/schaermu/node-fluent-ffmpeg)\nThis library abstracts the complex command-line usage of ffmpeg into a fluent, easy to use node.js module. In order to be able to use this module, make sure you have [ffmpeg](http://www.ffmpeg.org) installed on your system (including all necessary encoding libraries like libmp3lame or libx264).\n\nNow including input streaming support (means you can convert **on-the-fly** using an input- and an outputstream)!\n\n### Sorry for the long period of inactivity, i had to settle some private stuff! Now back in full effect :)\n\n## Installation\nVia npm:\n`$ npm install fluent-ffmpeg`\n\nOr as a submodule:\n`$ git submodule add git://github.com/schaermu/node-fluent-ffmpeg.git vendor/fluent-ffmpeg`\n## Tests\nTo run unit tests, make sure have mocha installed on your system (registered as devDependency in npm config).\n\n`$ make test`\n\nFor constant checking your test install grunt globally (`npm uninstall -g grunt && npm install -g grunt-cli && npm install grunt`)\n\nIf you want to re-generate the test coverage report (filed under test/coverage.html), run\n\n`$ make test-cov`\n\nMake sure your ffmpeg installation is up-to-date to prevent strange assertion errors because of missing codecs/bugfixes.\n## Usage\nYou find a lot of usage examples (including a real-time streaming example using [flowplayer](http://www.flowplayer.org) and [express](https://github.com/visionmedia/express)!) in the `examples` folder.\n## Basics\nfluent-ffmpeg is always initialized using the returned class of your initial (and only) require call. You have to supply an config object to the constructor containing at least the input source (either a ReadableStream or a filepath).\n\n    var ffmpeg = require(\'fluent-ffmpeg\');\n\n    var proc = new ffmpeg({\n      // input source, required\n      source: \'/path/to/your_movie.avi\',\n      // timout of the spawned ffmpeg sub-processes in seconds (optional, defaults to 30)\n      timeout: 30,\n      // default priority for all ffmpeg sub-processes (optional, defaults to 0 which is no priorization)\n      priority: 0,\n      // set a custom [winston](https://github.com/flatiron/winston) logging instance (optional, default null which will cause fluent-ffmpeg to spawn a winston console logger)\n      logger: null,\n      // completely disable logging (optional, defaults to false)\n      nolog: false\n    });\n\n### Auto-calculation of video dimensions\nSince ffmpeg does not support dynamic sizing of your movies, fluent-ffmpeg can do this job for you (using it\'s internal metadata-discovery). The following size formats are allowed to be passed to `withSize`:\n\n  * `320x?` - Fixed width, calculate height\n  * `?x240` - Fixed height, calculate width\n  * `50%` - percental resizing\n  * `320x240` - fixed size (plain ffmpeg way)\n\n### Auto-padding when converting aspect ratio\nUsing fluent-ffmpeg, you can auto-pad any video output when converting the aspect ratio. When converting from 4:3 to 16:9, padding is added to the left/right, when converting from 16:9 to 4:3, padding is added to top/bottom.\n\n    var ffmpeg = require(\'fluent-ffmpeg\');\n\n    var proc = new ffmpeg({ source: \'/path/to/your_movie.avi\' })\n      .withAspect(\'4:3\')\n      .withSize(\'640x480\')\n      .applyAutopadding(true, \'white\')\n      .saveToFile(\'/path/to/your_target.avi\', function(stdout, stderr) {\n        console.log(\'file has been converted succesfully\');\n      });\nThis command will auto-pad your 4:3 output video stream using a white background-color (default is black).\n\n### Simple conversion using preset\nThis example loads up a predefined preset in the preset folder (currently, fluent-ffmpeg ships with presets for DIVX, Flashvideo and Podcast conversions)\n\n    var ffmpeg = require(\'fluent-ffmpeg\');\n\n    var proc = new ffmpeg({ source: \'/path/to/your_movie.avi\' })\n      .usingPreset(\'podcast\')\n      .saveToFile(\'/path/to/your_target.m4v\', function(stdout, stderr) {\n        console.log(\'file has been converted succesfully\');\n      });\n### Conversion using chainable API\nUsing the chainable API, you are able to perform any operation using FFMPEG. the most common options are implemented using methods, for more advanced usages you can still use the `addOption(s)` method group.\n\n    var ffmpeg = require(\'fluent-ffmpeg\');\n    \n    var proc = new ffmpeg({ source: \'/path/to/your_movie.avi\' })\n      .withVideoBitrate(1024)\n      .withVideoCodec(\'divx\')\n      .withAspect(\'16:9\')\n      .withFps(24)\n      .withAudioBitrate(\'128k\')\n      .withAudioCodec(\'libmp3lame\')\n      .withAudioChannels(2)\n      .addOption(\'-vtag\', \'DIVX\')\n      .toFormat(\'avi\')\n      .saveToFile(\'/path/to/your_target.avi\', function(stdout, stderr) {\n        console.log(\'file has been converted succesfully\');\n      });\n### Creating thumbnails from a video file\nOne pretty neat feature is the ability of fluent-ffmpeg to generate any amount of thumbnails from your movies. The screenshots are taken at automatically determined timemarks using the following formula: `(duration_in_sec * 0.9) / number_of_thumbnails`.\n\n    var ffmpeg = require(\'fluent-ffmpeg\');\n    \n    var proc = new ffmpeg({ source: \'/path/to/your_movie.avi\' })\n      .withSize(\'150x100\')\n      .takeScreenshots(5, \'/path/to/thumbnail/folder\', function(err, filenames) {\n        if(err){\n          throw err;\n        }\n        console.log(filenames);\n        console.log(\'screenshots were saved\');\n      });\n\nFor more control, you can also set the timemarks for taking screenshots yourself. Timemarks are percent `50%` or otherwise seconds.\n\n    var ffmpeg = require(\'fluent-ffmpeg\');\n    \n    var proc = new ffmpeg({ source: \'/path/to/your_movie.avi\' })\n      .withSize(\'150x100\')\n      .takeScreenshots({\n          count: 2,\n          timemarks: [ \'0.5\', \'1\' ]\n        }, \'/path/to/thumbnail/folder\', function(err, filenames) {\n          console.log(filenames);\n          console.log(\'screenshots were saved\');\n      });\n      \nYou can set the screenshots filename dynamically using following format characters:\n\n* `%s` - offset in seconds\n* `%w` - screenshot width\n* `%h` - screenshot height\n* `%r` - screenshot resolution ( widthxheight )\n* `%f` - input filename\n* `%b` - input basename ( filename w/o extension ) \n* `%i` - number of screenshot in timemark array ( can be zeropadded by using it like `%000i` )  \n\nIf multiple timemarks are given and no `%i` format character is found in filename `_%i` will be added to the end of the given filename.\n\n    var ffmpeg = require(\'fluent-ffmpeg\');\n\n    var proc = new ffmpeg({ source: \'/path/to/your_movie.avi\' })\n      .withSize(\'150x100\')\n      .takeScreenshots({\n          count: 2,\n          timemarks: [ \'50%\', \'75%\' ],\n          filename: \'%b_screenshot_%w_%i\'\n        }, \'/path/to/thumbnail/folder\', function(err, filenames) {\n          console.log(filenames);\n          console.log(\'screenshots were saved\');\n      });\n\n### Reading video metadata\nUsing a seperate object, you are able to access various metadata of your video file.\n\n    var Metalib = require(\'fluent-ffmpeg\').Metadata;\n\n    // make sure you set the correct path to your video file\n    var metaObject = new Metalib(\'/path/to/your_movie.avi\', function(metadata, err) {\n      console.log(require(\'util\').inspect(metadata, false, null));\n    });\n\n### Reading Codec information while processing\nUsing the notification callback onCodecData, you can get informations about the input file\'s codecs being processed:\n\n    var ffmpeg = require(\'fluent-ffmpeg\');\n\n    var proc = new ffmpeg({ source: \'/path/to/your_movie.avi\' })\n      .withAspect(\'4:3\')\n      .withSize(\'640x480\')\n      .onCodecData(function(codecinfo) {\n        console.log(codecinfo);\n      })\n      .saveToFile(\'/path/to/your_target.avi\', function(stdout, stderr) {\n        console.log(\'file has been converted succesfully\');\n      });\n\n### Getting progress notification\nYou can set the call back onProgress if you want to be notified on every progress update (triggered as fast as it\'s written out by FFMPEG).\n\n    var proc = new ffmpeg({ source: \'/path/to/your_movie.avi\' })\n      .withAspect(\'4:3\')\n      .withSize(\'640x480\')\n      .onProgress(function(progress) {\n        console.log(progress);\n      })\n      .saveToFile(\'/path/to/your_target.avi\', function(stdout, stderr) {\n        console.log(\'file has been converted succesfully\');\n      });\n\nThe progress object consists of 6 properties:\n\n  * `frames` - the total processed frame count\n  * `currentFps` - the framerate at which FFMPEG is currently processing the file\n  * `currentKbps` - the throughput at which FFMPEG is currently processing the file\n  * `targetSize` - the current size of the target file\n  * `timemark` - the timestamp of the frame being processed right now\n  * `percent` - an estimation on the progress (metadata is used, durationsec * fps)\n\n### Additional Inputs\nIn case you need to add, for instance, and audio track\n\n    var ffmpeg = require(\'fluent-ffmpeg\');\n\n    var proc = new ffmpeg({ source: \'images/frame%05d.png\' })\n      .addInput(\'soundtrack.mp3\')\n      .saveToFile(\'/path/to/your_target.avi\', function(stdout, stderr) {\n        console.log(\'file has been created with soundtrack succesfully\');\n      });\n\n### Concatenating Inputs\nTo append a video to the end of another\n\n    var ffmpeg = require(\'fluent-ffmpeg\');\n    var proc = new ffmpeg({source: "title.mp4"})\n        .mergeAdd("source.mp4")\n        .mergeToFile("out.mp4", "myTempFolder/", function(){\n            console.log(\'files has been merged succesfully\');\n         });\n\n### Creating a custom preset\nTo create a custom preset, you have to create a new file inside the `lib/presets` folder. The filename is used as the preset\'s name ([presetname].js). In order to make the preset work, you have to export a `load` function using the CommonJS module specifications:\n\n    exports.load = function(ffmpeg) {\n      // your custom preset code\n    }\n\nThe `ffmpeg` parameter is a full fluent-ffmpeg object, you can use all the chaining-goodness from here on. For a good example for the possibilities using presets, check out `lib/presets/podcast.js`.\n\n\n### Setting custom child process niceness\nYou can adjust the scheduling priority of the child process used by ffmpeg, using renice (http://manpages.ubuntu.com/manpages/intrepid/man1/renice.1.html):\n\n    var ffmpeg = require(\'fluent-ffmpeg\');\n    \n    var proc = new ffmpeg({ source: \'./source.mp3\', priority: 10 })\n      .withAudioCodec(\'libvorbis\')\n      .toFormat(\'ogg\')\n      .saveToFile(\'./target.ogg\', function(stdout, stderr) {\n        console.log(\'file has been converted succesfully\');\n      });\n\nWhich will use a niceness of 10 (thus it has a lower scheduling priority than the node process and other processes, which default to a niceness of 0).\n\n### Setting an optional processing timeout\nIf you want to know for sure that the ffmpeg child process will not run for longer than a certain amount of time, you can optionally pass the key \'timeout\' into the constructor of the ffmpeg command object. An example of a process that will return an error string of \'timeout\' if ffmpeg did not finish within 10 minutes:\n\n    var ffmpeg = require(\'fluent-ffmpeg\');\n    \n    var proc = new ffmpeg({ source: \'./source.mp3\', timeout: 10 * 60 })\n      .withAudioCodec(\'libvorbis\')\n      .toFormat(\'ogg\')\n      .saveToFile(\'./target.ogg\', function(stdout, stderr) {\n        if (retcode == ffmpeg.E_PROCESSTIMEOUT) {\n          console.log(\'ffmpeg terminated because of timeout\');\n        }\n      });\n\n## Contributors\n* [enobrev](http://github.com/enobrev)\n* [sadikzzz](http://github.com/sadikzzz)\n* [smremde](http://github.com/smremde)\n* [spruce](http://github.com/spruce)\n* [tagedieb](http://github.com/tagedieb)\n* [tommadema](http://github.com/tommadema)\n* [Weltschmerz](http://github.com/Weltschmerz)\n\n## Contributing\nContributions in any form are highly encouraged and welcome! Be it new or improved presets, optimized streaming code or just some cleanup. So start forking!\n\n## License\n(The MIT License)\n\nCopyright (c) 2011 Stefan Schaermeli &lt;schaermu@gmail.com&gt;\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \'Software\'), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \'AS IS\', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n',
38 silly publish   readmeFilename: 'README.md',
38 silly publish   _id: 'fluent-ffmpeg-extended@1.5.2',
38 silly publish   _from: 'fluent-ffmpeg-extended@' }
39 info prepublish fluent-ffmpeg-extended@1.5.2
40 verbose url raw fluent-ffmpeg-extended
41 verbose url resolving [ 'https://registry.npmjs.org/', './fluent-ffmpeg-extended' ]
42 verbose url resolved https://registry.npmjs.org/fluent-ffmpeg-extended
43 info trying registry request attempt 1 at 19:47:19
44 http PUT https://registry.npmjs.org/fluent-ffmpeg-extended
45 http 409 https://registry.npmjs.org/fluent-ffmpeg-extended
46 verbose url raw fluent-ffmpeg-extended
47 verbose url resolving [ 'https://registry.npmjs.org/', './fluent-ffmpeg-extended' ]
48 verbose url resolved https://registry.npmjs.org/fluent-ffmpeg-extended
49 info trying registry request attempt 1 at 19:47:20
50 http GET https://registry.npmjs.org/fluent-ffmpeg-extended
51 http 200 https://registry.npmjs.org/fluent-ffmpeg-extended
52 error publish fail Cannot publish over existing version.
52 error publish fail Update the 'version' field in package.json and try again.
52 error publish fail
52 error publish fail If the previous version was published in error, see:
52 error publish fail     npm help unpublish
52 error publish fail
52 error publish fail To automatically increment version numbers, see:
52 error publish fail     npm help version
53 error System Darwin 12.4.0
54 error command "/usr/local/Cellar/node/0.10.3/bin/node" "/usr/local/bin/npm" "publish" "fluent-ffmpeg-extended"
55 error cwd /Users/dave/Development/MB/node-fluent-ffmpeg
56 error node -v v0.10.3
57 error npm -v 1.2.17
58 error code EPUBLISHCONFLICT
59 verbose exit [ 1, true ]
